server:
   port: 8080

spring:
   security:
      oauth2:
         client:
            provider:
               my-keycloak-provider:
                  issuer-uri: http://localhost:8090/
            registration:
               keycloak-spring-gateway-client:
                  provider: my-keycloak-provider
                  client-id: sse-gateway-client
                  #client-secret:
                  authorization-grant-type: authorization_code
                  redirect-uri: '{baseUrl}/login/oauth2/code/keycloak'
                  scope: openid

   application:
      name: sse-gateway-service
   cloud:
      gateway:
         discovery:
            locator:
               enabled: true
         default-filters:
           - TokenRelay=
           - StripPrefix=1
      routes:
        - id: registry
          uri: lb://registry
          predicates:
            - Path=/registry/**

management:
   endpoints:
      web:
         exposure:
            include:
            - mappings
            - env
            - health
            - info
            - '*'
eureka:
   client:
      registerWithEureka: true
      serviceUrl:
         defaultZone: ${EUREKA_SERVER:http://localhost:8761/eureka}
      healthcheck:
         enabled: true
